{"version":3,"sources":["main.js"],"names":["TWITTER_API_BASE","router","VueRouter","routes","path","component","HomeComponent","TweetFeedComponent","AboutComponent","app","Vue","el","data","hashtag","countdown","tweets","created","console","log","getTweets","setInterval","tickCountdown","methods","hashtagChange","newHashtag","_this","uri","encodeURIComponent","axios","get","then","response","statuses","warn","catch","error","restartCountdown","watch"],"mappings":"AAAA;;AAEA;AACA;AACA;;AAEA,IAAIA,mBAAmB,qEAAvB;;AAEA,IAAIC,SAAS,IAAIC,SAAJ,CAAc;AAC1BC,SAAQ,CAAC,EAAEC,MAAM,EAAR,EAAYC,WAAWC,aAAvB,EAAD,EAAyC,EAAEF,MAAM,SAAR,EAAmBC,WAAWE,kBAA9B,EAAzC,EAA6F,EAAEH,MAAM,QAAR,EAAkBC,WAAWG,cAA7B,EAA7F;AADkB,CAAd,CAAb;;AAIA,IAAIC,MAAM,IAAIC,GAAJ,CAAQ;AACjBC,KAAI,MADa;AAEjBV,SAAQA,MAFS;AAGjBW,OAAM,SAASA,IAAT,GAAgB;AACrB;AACA,SAAO;AACNC,YAAS,OADH;AAENC,cAAW,EAFL;AAGNC,WAAQ;AAHF,GAAP;AAKA,EAVgB;;AAYjBC,UAAS,SAASA,OAAT,GAAmB;AAC3B;AACAC,UAAQC,GAAR,CAAY,aAAZ;AACA,OAAKC,SAAL;AACAC,cAAY,KAAKC,aAAjB,EAAgC,IAAhC;AACA,EAjBgB;AAkBjBC,UAAS;AACRC,iBAAe,SAASA,aAAT,CAAuBC,UAAvB,EAAmC;AACjD,QAAKX,OAAL,GAAeW,UAAf;AACA,GAHO;AAIRL,aAAW,SAASA,SAAT,GAAqB;AAC/B,OAAIM,QAAQ,IAAZ;;AAEA,OAAI,CAAC,KAAKZ,OAAV,EAAmB;AAClB,SAAKE,MAAL,GAAc,EAAd;AACA;AACD,OAAIW,MAAM1B,mBAAmB,sBAAnB,GAA4C2B,mBAAmB,KAAKd,OAAxB,CAAtD;AACAI,WAAQC,GAAR,CAAY,WAAZ,EAAyBQ,GAAzB;AACAE,SAAMC,GAAN,CAAUH,GAAV,EAAeI,IAAf,CAAoB,UAAUC,QAAV,EAAoB;AACvCd,YAAQC,GAAR,CAAYa,QAAZ;AACA,QAAIA,YAAYA,SAASnB,IAArB,IAA6BmB,SAASnB,IAAT,CAAcoB,QAA/C,EAAyD;AACxDP,WAAMV,MAAN,GAAegB,SAASnB,IAAT,CAAcoB,QAA7B;AACA,KAFD,MAEO;AACNf,aAAQgB,IAAR,CAAa,qDAAb;AACAR,WAAMV,MAAN,GAAe,EAAf;AACA;AACD,IARD,EAQGmB,KARH,CAQS,UAAUC,KAAV,EAAiB;AACzBlB,YAAQgB,IAAR,CAAaE,KAAb;AACA,IAVD;AAWA,GAvBO;AAwBRd,iBAAe,SAASA,aAAT,GAAyB;AACvC,QAAKP,SAAL;AACA,OAAI,CAAC,KAAKA,SAAV,EAAqB;AACpB,SAAKK,SAAL;AACA,SAAKiB,gBAAL;AACA;AACD,GA9BO;AA+BRA,oBAAkB,SAASA,gBAAT,GAA4B;AAC7C,QAAKtB,SAAL,GAAiB,EAAjB;AACA;AAjCO,EAlBQ;AAqDjBuB,QAAO;AACNxB,WAAS,SAASA,OAAT,GAAmB;AAC3BI,WAAQC,GAAR,CAAY,uBAAZ,EAAqC,IAArC;AACA,QAAKC,SAAL;AACA,QAAKiB,gBAAL;AACA;AALK;AArDU,CAAR,CAAV;AA6DA","file":"main.js","sourcesContent":["\"use strict\";\n\n// this uses greg haygood's simple twitter API proxy\n// https://github.com/greghaygood/wd4-ajax-twitter\n// with an added CORS fix.\n\nvar TWITTER_API_BASE = \"http://circuslabs.net/~chris.silich/twitter-proxy/twitter-proxy.php\";\n\nvar router = new VueRouter({\n\troutes: [{ path: '', component: HomeComponent }, { path: '/tweets', component: TweetFeedComponent }, { path: '/about', component: AboutComponent }]\n});\n\nvar app = new Vue({\n\tel: \"#app\",\n\trouter: router,\n\tdata: function data() {\n\t\t// dont need to do this, but why not be uniform with components\n\t\treturn {\n\t\t\thashtag: \"#cats\",\n\t\t\tcountdown: 20,\n\t\t\ttweets: []\n\t\t};\n\t},\n\n\tcreated: function created() {\n\t\t// use created to do initial AJAX lookups\n\t\tconsole.log(\"app created\");\n\t\tthis.getTweets();\n\t\tsetInterval(this.tickCountdown, 1000);\n\t},\n\tmethods: {\n\t\thashtagChange: function hashtagChange(newHashtag) {\n\t\t\tthis.hashtag = newHashtag;\n\t\t},\n\t\tgetTweets: function getTweets() {\n\t\t\tvar _this = this;\n\n\t\t\tif (!this.hashtag) {\n\t\t\t\tthis.tweets = [];\n\t\t\t}\n\t\t\tvar uri = TWITTER_API_BASE + '?op=search_tweets&q=' + encodeURIComponent(this.hashtag);\n\t\t\tconsole.log('getTweets', uri);\n\t\t\taxios.get(uri).then(function (response) {\n\t\t\t\tconsole.log(response);\n\t\t\t\tif (response && response.data && response.data.statuses) {\n\t\t\t\t\t_this.tweets = response.data.statuses;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(\"Valid response from twitter api/proxy, but bad data\");\n\t\t\t\t\t_this.tweets = [];\n\t\t\t\t}\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.warn(error);\n\t\t\t});\n\t\t},\n\t\ttickCountdown: function tickCountdown() {\n\t\t\tthis.countdown--;\n\t\t\tif (!this.countdown) {\n\t\t\t\tthis.getTweets();\n\t\t\t\tthis.restartCountdown();\n\t\t\t}\n\t\t},\n\t\trestartCountdown: function restartCountdown() {\n\t\t\tthis.countdown = 20;\n\t\t}\n\t},\n\twatch: {\n\t\thashtag: function hashtag() {\n\t\t\tconsole.log(\"watch hashtag tripped\", this);\n\t\t\tthis.getTweets();\n\t\t\tthis.restartCountdown();\n\t\t}\n\t}\n});\n//# sourceMappingURL=app.js.map"]}